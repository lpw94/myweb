
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
	<title>JQuery表单验证</title>
<script type="text/javascript" src="js/jquery.js"></script>
<script type="text/javascript">

var gets = true;//是否让表单提交

$(function(){
// 提示信息===========================================
	$("input[name=username]").focus(function(){
		if($(this).val() == this.defaultValue){
			$(this).val('');
		}
	}).blur(function(){
		if($(this).val() == ''){
			$(this).val(this.defaultValue);
		}
	});

//当输入框失去焦点的时候，需要执行的方法
	$("input[name=username]").blur(function(){doUsername();});
	$("input[name=password]").blur(function(){doPassword();});
	$("input[name=repass]").blur(function(){doRepass();});
	$("input[name=age]").blur(function(){doAge();});
	$("input[name=tel]").blur(function(){doTel();});
	$("input[name=email]").blur(function(){doEmail();});

});

// 用户名的验证==========================
	function doUsername(){
		var t = $("input[name=username]");
		var span = t.next();
		if(/^\w{3,6}$/.test(t.val())){
			span.html("填写正确").css({color:"green",fontSize:"12px"});
			return true;
		}else{
			span.html("包含数字、字母、下划线，长度在3-6之间").css({color:"red",fontSize:"12px"});
			return false;
		}
	}


// 密码的验证==========================
	function doPassword(){
		var t = $("input[name=password]");
		var span = t.next();
		if(t.val() == ''){
			span.html("密码不能为空").css({color:"red",fontSize:"12px"});
			return false;
		}else{
			span.html('');
			if(/.{15,}/.test(t.val())){
				span.html("密码长度不合法");
				return false;
			}
			return true;
		}
	}
// 确认密码的验证==========================
	function doRepass(){
		var t = $("input[name=repass]");
		var span = t.next();
		if(t.val() == $("input[name=password]").val() && t.val() != ''){
			span.html("填写正确").css({color:"green",fontSize:"12px"});
			return true;
		}else{
			span.html("两次密码不一致").css({color:"red",fontSize:"12px"});
			return false;
		}
	}
// 年龄的验证==========================
	function doAge(){
		var t = $("input[name=age]");
		var span = t.next();
		if(/^\d{1,3}$/.test(t.val())){
			span.html('');
			return true;
		}else{
			span.html("非法输入").css({color:"red",fontSize:"12px"});
			return false;
		}
	}
// 个人爱好至少选择一个的验证==========================
	function doLove(){
		var ob=document.getElementsByName("love[]");
		var span = $("span[name=love]");
		var num = 0;
		for(var i=0;i<ob.length;i++){
			if(ob[i].checked){
				num++;
			}
		}
		if(!(num>0)){
			span.html("爱好至少选一项").css({color:"red",fontSize:"12px"});
			return false;
		}else{
			span.html('');
			return true;
		}
	}

// 电子邮箱的验证==========================
	function doEmail(){
		var t = $("input[name=email]");
		var span = t.next();
		if(/^\w+@\w+(\.[a-zA-Z]{2,3})+$/.test(t.val())){
			span.html('格式正确').css({color:"green",fontSize:"12px"});
			return true;
		}else{
			span.html('邮箱不合法').css({color:"red",fontSize:"12px"});
			return false;
		}
	}

// 手机号码的验证==========================
	function doTel(){
		var t = $("input[name=tel]");
		var span = t.next();
		if(/^1[3578][0-9]{9}$/.test(t.val())){
			span.html('');
			return true;
		}else{
			span.html("手机号码格式错误").css({color:"red",fontSize:"12px"});
			return false;
		}
	}
// 数据提交的时候执行的方法
	function doTable(){
		var user = doUsername();
		var pass = doPassword();
		var repass = doRepass();
		var age = doAge();
		var love = doLove();
		var email = doEmail();
		var tel = doTel();
		if(user&&pass&&repass&&age&&love&&email&&tel){
			return true;
		}else{
			return false;
		}
	}
</script>
<style type="text/css">
	b{
		color: red;
	}
</style>
</head>
<body>
	<form action="./table.php" method="post" onsubmit="return doTable()">
		<table align="center" width="600">
			<tr>
				<td align="right" width="100">用&nbsp;户&nbsp;名：</td>
				<td><b>*</b><input type="text" name="username" value="请输入用户名" />
					<span></span>
				</td>
			</tr>
			<tr>
				<td align="right">密&nbsp;&nbsp;&nbsp;&nbsp;码：</td>
				<td><b>*</b><input type="password" name="password"/>
					<span></span>
				</td>
			</tr>
			<tr>
				<td align="right">确认密码：</td>
				<td><b>*</b><input type="password" name="repass"/>
					<span></span>
				</td>
			</tr>
			<tr>
				<td align="right">年&nbsp;&nbsp;&nbsp;&nbsp;龄：</td>
				<td><b>*</b><input type="text" name="age"/>
					<span></span>
				</td>
			</tr>
			<tr>
				<td align="right">性&nbsp;&nbsp;&nbsp;&nbsp;别：</td>
				<td>
					<input type="radio" name="sex" value="1" />男&nbsp;
					<input type="radio" name="sex" value="2" />女&nbsp;
					<input type="radio" name="sex" value="0" checked="checked" />保密
					<span></span>
				</td>
			</tr>
			<tr>
				<td align="right">爱&nbsp;&nbsp;&nbsp;&nbsp;好：</td>
				<td>
					<input type="checkbox" name="love[]" value="1" />泡妞&nbsp;
					<input type="checkbox" name="love[]" value="2" />上网&nbsp;
					<input type="checkbox" name="love[]" value="3" />篮球&nbsp;
					<input type="checkbox" name="love[]" value="4" />跑步&nbsp;
					<span name="love"></span>
				</td>
			</tr>
			<tr>
				<td align="right">电话号码：</td>
				<td><b>*</b><input type="text" name="tel"/>
					<span></span>
				</td>
			</tr>
			<tr>
				<td align="right">邮&nbsp;&nbsp;&nbsp;&nbsp;箱：</td>
				<td>
					<b>*</b><input type="email" name="email"/>
					<span></span>
				</td>
			</tr>
			<tr>
				<td colspan="2" align="center"><input type="submit" value="提交" /></td>
			</tr>
		</table>
	</form>
</body>
</html>